<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="天前"><meta name="hour-prompt" content="小时前"><meta name="minute-prompt" content="分钟前"><meta name="justnow-prompt" content="刚刚"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="SpringBoot题库-1" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="网络上找的一些SpringBoot相关题目" /><meta property="og:description" content="网络上找的一些SpringBoot相关题目" /><link rel="canonical" href="https://www.jiazhenjiang.com/posts/SpringBoot%E9%9D%A2%E8%AF%95%E9%A2%98-1/" /><meta property="og:url" content="https://www.jiazhenjiang.com/posts/SpringBoot%E9%9D%A2%E8%AF%95%E9%A2%98-1/" /><meta property="og:site_name" content="小木屋" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-08-25T14:45:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="SpringBoot题库-1" /><meta name="twitter:site" content="@" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"网络上找的一些SpringBoot相关题目","url":"https://www.jiazhenjiang.com/posts/SpringBoot%E9%9D%A2%E8%AF%95%E9%A2%98-1/","@type":"BlogPosting","headline":"SpringBoot题库-1","dateModified":"2021-08-25T14:45:00+08:00","datePublished":"2021-08-25T14:45:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jiazhenjiang.com/posts/SpringBoot%E9%9D%A2%E8%AF%95%E9%A2%98-1/"},"@context":"https://schema.org"}</script><title>SpringBoot题库-1 | 小木屋</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"> <script data-ad-client="ca-pub-9055919564439532" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta name="apple-mobile-web-app-title" content="小木屋"><meta name="application-name" content="小木屋"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang=""><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/3wsea/blog-images/commons/avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">小木屋</a></div><div class="site-subtitle font-italic">一个日常记录的地方</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['3w_jiazhenjiang','163.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>SpringBoot题库-1</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>SpringBoot题库-1</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> ZhenJiang.Jia </span> 发表于 <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="2021-08-25, 14:45 +0800" >08-25<i class="unloaded">2021-08-25T14:45:00+08:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3533 字">19 分钟阅读</span></div></div><div class="post-content"><p>网络上找的一些SpringBoot相关题目</p><h3 id="1什么是springboot"><strong>1、什么是SpringBoot？</strong></h3><ul><li>用来简化Spring应用的初始搭建以及开发过程，使用特定的方式来进行配置<li>创建独立的Spring引用程序main方法运行<li>嵌入的tomcat无需部署war文件<li>简化maven配置<li>自动配置Spring添加对应的功能starter自动化配置</ul><blockquote><p>SpringBoot来简化Spring应用开发，约定大于配置，去繁化简</p></blockquote><h3 id="2springboot有哪些优缺点"><strong>2、SpringBoot有哪些优缺点？</strong></h3><p><strong>优点</strong></p><ul><li><p>独立运行</p><p>Spring Boot 而且内嵌了各种 servlet 容器，Tomcat、Jetty 等，现在不再需要打成war 包部署到容器中，Spring Boot 只要打成一个可执行的 jar 包就能独立运行，所有的依赖包都在一个 jar 包内。</p><li><p>简化配置</p><p>spring-boot-starter-web 启动器自动依赖其他组件，简少了 maven 的配置。</p><li><p>自动配置</p><p>Spring Boot 能根据当前类路径下的类、jar 包来自动配置 bean，如添加一个 spring</p><p>boot-starter-web 启动器就能拥有 web 的功能，无需其他配置。</p><li><p>无代码生成和XML配置</p><p>Spring Boot 配置过程中无代码生成，也无需 XML 配置文件就能完成所有配置工作，这一切都是借助于条件注解完成的，这也是 Spring4.x 的核心功能之一。</p><li><p>应用监控</p><p>Spring Boot 提供一系列端点可以监控服务及应用，做健康检测。</p></ul><p><strong>缺点</strong></p><p>Spring Boot 虽然上手很容易，但如果你不了解其核心技术及流程，所以一旦遇到问题就很棘手，而且现在的解决方案也不是很多，需要一个完善的过程。</p><h3 id="3springbootspring-mvc和spring有什么区别"><strong>3、SpringBoot、Spring MVC和Spring有什么区别？</strong></h3><p><strong>Spring</strong></p><p>Spring最重要的特征是依赖注入。所有Spring Modules不是依赖注入就是IOC控制反转。</p><p>当我们恰当的使用DI或者是IOC的时候，可以开发松耦合应用。</p><p><strong>Spring MVC</strong></p><p>Spring MVC提供了一种分离式的方法来开发Web应用。通过运用像DispatcherServelet，MoudlAndView 和 ViewResolver 等一些简单的概念，开发 Web 应用将会变的非常简单。</p><p><strong>SpringBoot</strong></p><p>Spring和Spring MVC的问题在于需要配置大量的参数。</p><p>SpringBoot通过一个自动配置和启动的项来解决这个问题。</p><h3 id="4什么是spring-boot-starter"><strong>4、什么是Spring Boot Starter？</strong></h3><p>启动器是一套方便的依赖描述符，它可以放在自己的程序中。可以一站式的获取你所需要的Spring和相关技术，而不需要依赖描述符的通过示例代码搜索和复制粘贴的负载。</p><p>例如，如果想使用Spring和JPA访问数据库，只需要项目中包含spring-boot-starter-data-jpa 依赖项，你就可以正产是用。</p><h3 id="5为什么需要spring-boot-maven-plugin"><strong>5、为什么需要spring-boot-maven-plugin？</strong></h3><p>spring-boot-maven-plugin提供了一些像jar一样打包或者运行应用程序的命令。</p><blockquote><ol><li>spring-boot:run 运行SpringBoot应用程序；<li>spring-boot:repackage 重新打包你的jar包或者是war包使其可执行<li>spring-boot:start和spring-boot:stop管理Spring Boot应用程序的生命周期<li>spring-boot:build-info生成执行器可以使用的构造信息</ol></blockquote><h3 id="6什么是yaml"><strong>6、什么是YAML？</strong></h3><p>YAML是一种人类可读的数据序列化语言。它通常用于配置文件。<br /> 与属性文件相比，如果我们想要在配置文件中添加复杂的属性，YAML文件就更加结构化，而且更少混淆。可以看出YAML具有分层配置数据。</p><h3 id="7springboot自动配置的原理"><strong>7、SpringBoot自动配置的原理</strong></h3><p>在Spring程序main方法中，添加@SpringBootApplication或者@EnableAutoConfiguration会自动去maven中读取每个starter中的spring.gfactories文件，改文件里配置了所有需要被创建的Spring容器中的bean</p><h3 id="8requestmapping和getmapping的不同之处在哪里"><strong>8、RequestMapping和GetMapping的不同之处在哪里？</strong></h3><p>RequestMapping具有类属性的，可以进行GET、POST、PUT或者其他的注释中具有的请求方法。</p><p>GetMapping是Get请求方法中的一个特例，它只是RequestMapping的一个延伸，目的是为了提高清晰度。</p><h3 id="9spring-boot-starter-parent有什么作用"><strong>9、spring-boot-starter-parent有什么作用？</strong></h3><p>我们知道，新建一个SpringBoot项目，默认都是有parent的，这个parent就是spring-boot-starter-parent，spring-boot-starter-parent主要有如下作用：</p><ul><li>定义了Java编译版本为1.8<li>使用UTF-8格式编码<li>继承自spring-boor-dependencies，这里面定义了依赖的版本，也正是因为继承了这个依赖，所以我们在写依赖时才不需要写版本号<li>执行打包操作的配置<li>自动化的资源过滤<li>自动化的插件配置<li>针对application.peoperties和application.yuml的资源过滤，包括通过profile定义的不同环境的配置文件，例如application-dev.properties和application-dev.yuml。</ul><h3 id="10springboot-打成jar和普通的jar有什么区别"><strong>10、SpringBoot 打成jar和普通的jar有什么区别？</strong></h3><p>Spring Boot 项目最终打包成的 jar 是可执行 jar ，这种 jar 可以直接通过<code class="language-plaintext highlighter-rouge">java -jar xxx.jar</code>命令来运行，这种 jar 不可以作为普通的 jar 被其他项目依赖，即使依赖了也无法使用其中的类。</p><p>Spring Boot 的 jar 无法被其他项目依赖，主要还是他和普通 jar 的结构不同。普通的 jar 包，解压后直接就是包名，包里就是我们的代码，而 Spring Boot 打包成的可执行 jar 解压后，在 <code class="language-plaintext highlighter-rouge">\BOOT-INF\classes</code>目录下才是我们的代码，因此无法被直接引用。如果非要引用，可以在 pom.xml 文件中增加配置，将 Spring Boot 项目打包成两个 jar ，一个可执行，一个可引用。</p><h3 id="11运行springboot有几种方式"><strong>11、运行SpringBoot有几种方式？</strong></h3><ul><li>打包用命令或者放到容器中运行<li>用Maven或Gradle插件运行<li>直接执行main方法运行</ul><h3 id="12开启spring-boot特性有哪几种方式"><strong>12、开启Spring Boot特性有哪几种方式？</strong></h3><ul><li>继承spring-boot-starter-parent项目<li>导入spring-boot-dependencies项目依赖</ul><h3 id="13什么是spring-data"><strong>13、什么是Spring Data？</strong></h3><p>Spring Data 是 Spring 的一个子项目。用于简化数据库访问，支持NoSQL 和 关系数据存储。其主要目标是使数据库的访问变得方便快捷。Spring Data 具有如下特点：</p><p><strong>SpringData 项目支持 NoSQL 存储：</strong></p><ul><li>MongoDB （文档数据库）<li>Neo4j（图形数据库）<li>Redis（键/值存储）<li>Hbase（列族数据库）</ul><p><strong>SpringData 项目所支持的关系数据存储技术：</strong></p><ul><li>JDBC<li>JPA</ul><p>Spring Data Jpa <strong>致力于减少数据访问层 (DAO) 的开发量</strong>. 开发者唯一要做的，就是声明持久层的接口，其他都交给 Spring Data JPA 来帮你完成！Spring Data JPA 通过规范方法的名字，根据符合规范的名字来确定方法需要实现什么样的逻辑。</p><h3 id="14什么是swagger你用spring-boot实现了吗"><strong>14、什么是Swagger？你用Spring Boot实现了吗？</strong></h3><p>Swagger 广泛用于可视化 API，使用 Swagger UI 为前端开发人员提供在线沙箱。Swagger 是用于生成 RESTful Web 服务的可视化表示的工具，规范和完整框架实现。它使文档能够以与服务器相同的速度更新。当通过 Swagger 正确定义时，消费者可以使用最少量的实现逻辑来理解远程服务并与其进行交互。因此，Swagger消除了调用服务时的猜测。</p><h3 id="15前后端分离如何维护接口文档"><strong>15、前后端分离，如何维护接口文档？</strong></h3><p>前后端分离开发日益流行，大部分情况下，我们都是通过 Spring Boot 做前后端分离开发，前后端分离一定会有接口文档，不然会前后端会深深陷入到扯皮中。一个比较笨的方法就是使用 word 或者 md 来维护接口文档，但是效率太低，接口一变，所有人手上的文档都得变。在 Spring Boot 中，这个问题常见的解决方案是 Swagger ，使用 Swagger 我们可以快速生成一个接口文档网站，接口一旦发生变化，文档就会自动更新，所有开发工程师访问这一个在线网站就可以获取到最新的接口文档，非常方便。</p><h3 id="16如何使用spring-boot实现异常处理"><strong>16、如何使用Spring Boot实现异常处理？</strong></h3><p>Spring提供了一种使用ControllerAdvice处理异常的非常有用的方法。通过实现一个ControlerAdvice类，来处理控制类抛出的所有异常。</p><h3 id="17什么是freemarker模板"><strong>17、什么是FreeMarker模板？</strong></h3><p>FreeMarker 是一个基于 Java 的模板引擎，最初专注于使用 MVC 软件架构进行动态网页生成。使用 Freemarker 的主要优点是表示层和业务层的完全分离。程序员可以处理应用程序代码，而设计人员可以处理 html 页面设计。最后使用freemarker 可以将这些结合起来，给出最终的输出页面。</p><h3 id="18如何实现spring-boot应用程序的安全性"><strong>18、如何实现Spring Boot应用程序的安全性？</strong></h3><p>为了实现Spring Boot的安全性，使用spring-boot-starter-security依赖项，并且必须添加安全配置。它只需要很少代码。配置类将必须扩展WebSecurityConfigurerAdapter并覆盖其方法。</p><h3 id="19比较一下spring-security和shiro各自的优缺点"><strong>19、比较一下Spring Security和Shiro各自的优缺点？</strong></h3><p>由于Spring Boot官方提供了大量的非常方便的开箱即用的Starter，包括Spring Security的Starter，使得在SpringBoot中使用Spring Security变得更加容易，甚至只需要添加一个一来就可以保护所有接口，所以如果是SpringBoot项目，一般选择Spring Security。当然这只是一个建议的组合，单纯从技术上来说，无论怎么组合，都是没有问题的。</p><p><strong>Shiro和Spring Security相比，主要有如下特点：</strong></p><ul><li>Spring Security是一个重量级的安全管理框架；Shiro则是一个轻量级的安全管理框架；<li>Spring Security概念复杂，配置繁琐；Shiro概念简单、配置简单；<li>Spring Security功能强大；Shiro功能简单</ul><h3 id="20spring-boot中如何解决跨域问题"><strong>20、Spring Boot中如何解决跨域问题？</strong></h3><p>跨域可以在前端通过JSONP来解决，但是JSONP只可以发送GET请求，无法发送其他类型的请求，在RESTful风格的应用中，就显得非常鸡肋，因此推荐在后端通过（CORS，Cross-origin resource sharing）来解决跨域问题。这种解决方案并非Spring Boot特有的，在传统的SSM框架中，就可以通过CORS来解决跨域问题，只不过之前我们是在XML文件中配置CORS，现在可以通过实现WebMvcConfigurer接口然后重写addCorsMappings方法解决跨域问题。</p><div lang="java" class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CorsConfig</span> <span class="kd">implements</span> <span class="nc">WebMvcConfigurer</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addCorsMappings</span><span class="o">(</span><span class="nc">CorsRegistry</span> <span class="n">registry</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">registry</span><span class="o">.</span><span class="na">addMapping</span><span class="o">(</span><span class="s">"/**"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">allowedOrigins</span><span class="o">(</span><span class="s">"*"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">allowCredentials</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
                <span class="o">.</span><span class="na">allowedMethods</span><span class="o">(</span><span class="s">"GET"</span><span class="o">,</span> <span class="s">"POST"</span><span class="o">,</span> <span class="s">"PUT"</span><span class="o">,</span> <span class="s">"DELETE"</span><span class="o">,</span> <span class="s">"OPTIONS"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">maxAge</span><span class="o">(</span><span class="mi">3600</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>

</pre></table></code></div></div><p>项目中前后端分离部署，所以需要解决跨域的问题。<br /> 我们使用cookie存放用户登录的信息，在spring拦截器进行权限控制，当权限不符合时，直接返回给用户固定的json结果。<br /> 当用户登录以后，正常使用；当用户退出登录状态时或者token过期时，由于拦截器和跨域的顺序有问题，出现了跨域的现象。<br /> 我们知道<code class="language-plaintext highlighter-rouge">一个http请求，先走filter，到达servlet后才进行拦截器的处理</code>，如果我们把cors放在filter里，就可以优先于权限拦截器执行。</p><div lang="java" class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CorsConfig</span> <span class="o">{</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="nc">CorsFilter</span> <span class="nf">corsFilter</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">CorsConfiguration</span> <span class="n">corsConfiguration</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CorsConfiguration</span><span class="o">();</span>
        <span class="n">corsConfiguration</span><span class="o">.</span><span class="na">addAllowedOrigin</span><span class="o">(</span><span class="s">"*"</span><span class="o">);</span>
        <span class="n">corsConfiguration</span><span class="o">.</span><span class="na">addAllowedHeader</span><span class="o">(</span><span class="s">"*"</span><span class="o">);</span>
        <span class="n">corsConfiguration</span><span class="o">.</span><span class="na">addAllowedMethod</span><span class="o">(</span><span class="s">"*"</span><span class="o">);</span>
        <span class="n">corsConfiguration</span><span class="o">.</span><span class="na">setAllowCredentials</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">UrlBasedCorsConfigurationSource</span> <span class="n">urlBasedCorsConfigurationSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">UrlBasedCorsConfigurationSource</span><span class="o">();</span>
        <span class="n">urlBasedCorsConfigurationSource</span><span class="o">.</span><span class="na">registerCorsConfiguration</span><span class="o">(</span><span class="s">"/**"</span><span class="o">,</span> <span class="n">corsConfiguration</span><span class="o">);</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">CorsFilter</span><span class="o">(</span><span class="n">urlBasedCorsConfigurationSource</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><h3 id="21什么是csrf攻击"><strong>21、什么是CSRF攻击？</strong></h3><p>CSRF 代表跨站请求伪造。这是一种攻击，迫使最终用户在当前通过身份验证的Web 应用程序上执行不需要的操作。CSRF 攻击专门针对状态改变请求，而不是数据窃取，因为攻击者无法查看对伪造请求的响应。</p><h3 id="22spring-boot的核心注解是哪些他主由哪几个注解组成的"><strong>22、Spring Boot的核心注解是哪些？他主由哪几个注解组成的？</strong></h3><p>启动类上面的注解是@SpringBootApplication，他也是SpringBoot的核心注解，主要组合包含了以下3个注解：</p><ul><li>@SpringBootConfiguration：组合了@Configuration注解，实现配置文件的功能；<li>@EnableAutoConfiguration：打开自动配置的功能，也可以关闭某个自动配置的选项，如关闭数据源自动配置的功能：@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})；<li>@ComponentScan：Spring组件扫描。</ul><h3 id="23springboot的核心配置文件有哪几个他们的区别是什么"><strong>23、SpringBoot的核心配置文件有哪几个？他们的区别是什么？</strong></h3><p>SpringBoot的核心配置文件是<code class="language-plaintext highlighter-rouge">application和bootstrap</code>配置文件。</p><p>application配置文件这个容易理解，主要用于Spring Boot项目的自动化配置。</p><p>bootstrap配置文件有以下几个应用场景：</p><ul><li>使用Spring Cloud Config配置中心时，这时需要在bootstrap配置文件中添加连接到配置中心的配置属性来加载外部配置中心的配置信息；<li>一些固定的不能被覆盖的属性；<li>一些加密/解密的场景</ul><h3 id="24springboot有哪几种读取配置的方式"><strong>24、SpringBoot有哪几种读取配置的方式？</strong></h3><p>Spring Boot 可 以 通 过 <strong>@PropertySource,@Value,@Environment, @ConfigurationProperties</strong> 来绑定变量。</p><h3 id="25spring-boot-支持哪些日志框架推荐和默认的日志框架是哪个"><strong>25、Spring Boot 支持哪些日志框架？推荐和默认的日志框架是哪个？</strong></h3><p>Spring Boot 支持 Java Util Logging, Log4j2, Lockback 作为日志框架，如果你使用Starters 启动器，Spring Boot 将使用 Logback 作为默认日志框架。</p><h3 id="26保护springboot应用有哪些方法"><strong>26、保护SpringBoot应用有哪些方法？</strong></h3><ul><li>在生产中使用HTTPS<li>使用Snyk检查你的依赖关系<li>升级到最新版本<li>启用CSRF保护<li>使用内容安全策略防止XSS攻击</ul><h3 id="27springboot-2x有哪些新特性与1x有什么区别"><strong>27、SpringBoot 2.X有哪些新特性？与1.X有什么区别？</strong></h3><blockquote><ul><li>配置变更<li>JDK版本升级<li>第三方类库升级<li>响应式Spring编程支持<li>HTTP/2支持<li>配置属性绑定<li>更多改进与加强</ul></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%E9%9D%A2%E8%AF%95/'>面试</a>, <a href='/categories/springboot/'>Springboot</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/springboot/" class="post-tag no-text-decoration" >Springboot</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><link rel="stylesheet" href="/assets/plugin/social-share.js/css/share.min.css"> <script src="/assets/plugin/social-share.js/js/social-share.min.js"></script><div class="social-share" data-origin="jiazhenjiang" data-sites="wechat,weibo,qq,qzone" data-mobile-sites="wechat,weibo,qq,qzone"></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"> <iframe width="280" height="30" frameborder="0" scrolling="no" hspace="0" src="https://i.tianqi.com/?c=code&a=getcode&id=58&icon=1"></iframe><div id="access-lastmod" class="post"> <span>最近更新</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/HTTP%E4%B8%8ETCP%E7%9A%84keep-alive%E7%9A%84%E5%8C%BA%E5%88%AB/">HTTP与TCP的keep-alive的区别</a><li><a href="/posts/BeanShell%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E5%92%8C%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/">JMeter中BeanShell的使用方法和常用语法</a><li><a href="/posts/%E4%B8%89%E9%81%93%E9%A2%98%E5%A5%97%E8%B7%AF%E8%A7%A3%E5%86%B3%E9%80%92%E5%BD%92%E9%97%AE%E9%A2%98/">三道题套路解决递归问题</a><li><a href="/posts/Java%E9%9D%A2%E8%AF%95%E9%A2%98-%E4%B8%8A/">Java题库-上</a><li><a href="/posts/Java%E9%9D%A2%E8%AF%95%E9%A2%98-%E4%B8%AD/">Java题库-中</a></ul></div><div id="access-tags"> <span>热门标签</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/jmeter%E5%9F%BA%E7%A1%80/">JMeter基础</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jekyll/">jekyll</a> <a class="post-tag" href="/tags/http/">HTTP</a> <a class="post-tag" href="/tags/beanshell/">BeanShell</a> <a class="post-tag" href="/tags/django/">Django</a> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/java%E7%9F%A5%E8%AF%86/">Java知识</a> <a class="post-tag" href="/tags/jmeter/">JMeter</a> <a class="post-tag" href="/tags/redis/">Redis</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">文章内容</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <iframe src="/sponsor/simple/index.html" frameborder="0" scrolling="no" style="min-height:240px; width:100%;"></iframe><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Java%E9%9D%A2%E8%AF%95%E9%A2%98-%E4%B8%8A/"><div class="card-body"> <span class="timeago small" >08-24<i class="unloaded">2021-08-24T14:08:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java题库-上</h3><div class="text-muted small"><p> 1、面向对象的特征有哪些方面？ 答：面向对象的特征主要有以下几个方面： 抽象：抽象是将一类对象的共同特征总结出来构造类的过程，包括数据抽象和行为抽象两方面。抽象只关注对象有哪些属性和行为，并不关注这些行为的细节是什么。 继承：继承是从已有类得到继承信息创建新类的过程。提供继承信息的类被称为父类（超类、基类）；得到继承信息的类被称为子类（派生类）。继承让变化中的软件系统有了一定的延...</p></div></div></a></div><div class="card"> <a href="/posts/Java%E9%9D%A2%E8%AF%95%E9%A2%98-%E4%B8%AD/"><div class="card-body"> <span class="timeago small" >08-24<i class="unloaded">2021-08-24T15:56:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java题库-中</h3><div class="text-muted small"><p> 这部分主要是与Java Web和Web Service相关的面试题。 96、阐述Servlet和CGI的区别? 答：Servlet与CGI的区别在于Servlet处于服务器进程中，它通过多线程方式运行其service()方法，一个实例可以服务于多个请求，并且其实例一般不会销毁，而CGI对每个请求都产生新的进程，服务完成后就销毁，所以效率上低于Servlet。 补充：Sun Micr...</p></div></div></a></div><div class="card"> <a href="/posts/Java%E9%9D%A2%E8%AF%95%E9%A2%98-%E4%B8%8B/"><div class="card-body"> <span class="timeago small" >08-25<i class="unloaded">2021-08-25T13:37:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java题库-下</h3><div class="text-muted small"><p> 这部分主要是开源Java EE框架方面的内容，包括Hibernate、MyBatis、Spring、Spring MVC等，由于Struts 2已经是明日黄花，在这里就不讨论Struts 2的面试题，如果需要了解相关内容，可以参考文章《Java面试题集（86-115）》 。此外，这篇文章还对企业应用架构、大型网站架构和应用服务器优化等内容进行了简单的探讨，这些内容相信对面试会很有帮助。 1...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Java%E9%9D%A2%E8%AF%95%E9%A2%98-%E4%B8%8B/" class="btn btn-outline-primary" prompt="上一篇"><p>Java题库-下</p></a> <a href="/posts/django%E4%B8%ADmodel%E7%9A%84str%E6%96%B9%E6%B3%95/" class="btn btn-outline-primary" prompt="下一篇"><p>django的model中 unicode 与 str</p></a></div><script src="https://utteranc.es/client.js" repo="3wsea/blog-talks" issue-term="title" theme="github-light" crossorigin="anonymous" async> </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/">ZhenJiang.Jia</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer"><p class="mb-0"> <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次，</span>&nbsp;&nbsp;&nbsp;&nbsp; <span id="busuanzi_container_site_uv">访客数<span id="busuanzi_value_site_uv"></span>人次</span></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">热门标签</h4><a class="post-tag" href="/tags/jmeter%E5%9F%BA%E7%A1%80/">JMeter基础</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jekyll/">jekyll</a> <a class="post-tag" href="/tags/http/">HTTP</a> <a class="post-tag" href="/tags/beanshell/">BeanShell</a> <a class="post-tag" href="/tags/django/">Django</a> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/java%E7%9F%A5%E8%AF%86/">Java知识</a> <a class="post-tag" href="/tags/jmeter/">JMeter</a> <a class="post-tag" href="/tags/redis/">Redis</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.jiazhenjiang.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-JZLB57DV1M"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-JZLB57DV1M'); }); </script>
